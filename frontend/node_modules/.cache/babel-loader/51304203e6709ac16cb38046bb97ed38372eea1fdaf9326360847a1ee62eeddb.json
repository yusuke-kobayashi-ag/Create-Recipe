{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{Container,Paper,Typography,Grid,List,ListItem,ListItemText,Button,Box}from'@mui/material';import{getRecipe}from'../utils/api';import{deleteRecipe}from'../api/recipe';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RecipeDetail(){const{id}=useParams();const navigate=useNavigate();const[recipe,setRecipe]=useState(null);useEffect(()=>{const fetchRecipe=async()=>{try{const data=await getRecipe(id);setRecipe(data);}catch(error){console.error('Error fetching recipe:',error);}};fetchRecipe();},[id]);const handleDelete=async()=>{if(!window.confirm('本当にこのレシピを削除しますか？'))return;try{await deleteRecipe(recipe.id);navigate('/');}catch(e){alert('削除に失敗しました');}};if(!recipe){return/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});}return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{mt:4},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:recipe.title}),recipe.image_url&&/*#__PURE__*/_jsx(Box,{sx:{mb:3},children:/*#__PURE__*/_jsx(\"img\",{src:recipe.image_url,alt:recipe.title,style:{width:'100%',maxHeight:'400px',objectFit:'cover'}})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u6750\\u6599\"}),/*#__PURE__*/_jsx(List,{children:recipe.ingredients.map(ingredient=>/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:`${ingredient.name} ${ingredient.amount||'-'}${ingredient.unit||''}`,secondary:`カロリー: ${ingredient.calories!=null?ingredient.calories:'N/A'} kcal`})},ingredient.id))})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u8ABF\\u7406\\u60C5\\u5831\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",paragraph:true,children:[\"\\u8ABF\\u7406\\u6642\\u9593: \",recipe.cooking_time,\"\\u5206\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",paragraph:true,children:[\"\\u96E3\\u6613\\u5EA6: \",recipe.difficulty]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",paragraph:true,children:[\"\\u5206\\u91CF: \",recipe.servings,\"\\u4EBA\\u5206\"]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u4F5C\\u308A\\u65B9\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",paragraph:true,children:recipe.instructions})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:4,display:'flex',gap:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>navigate('/'),children:\"\\u4E00\\u89A7\\u306B\\u623B\\u308B\"}),/*#__PURE__*/_jsx(Button,{color:\"error\",variant:\"contained\",onClick:handleDelete,children:\"\\u524A\\u9664\"})]})]})});}export default RecipeDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Container","Paper","Typography","Grid","List","ListItem","ListItemText","Button","Box","getRecipe","deleteRecipe","jsx","_jsx","jsxs","_jsxs","RecipeDetail","id","navigate","recipe","setRecipe","fetchRecipe","data","error","console","handleDelete","window","confirm","e","alert","children","maxWidth","sx","mt","elevation","p","variant","component","gutterBottom","title","image_url","mb","src","alt","style","width","maxHeight","objectFit","container","spacing","item","xs","md","ingredients","map","ingredient","primary","name","amount","unit","secondary","calories","paragraph","cooking_time","difficulty","servings","instructions","display","gap","color","onClick"],"sources":["/Users/yusukekobayashi/Desktop/Python_Application/AWS/frontend/src/pages/RecipeDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  Button,\n  Box,\n} from '@mui/material';\nimport { getRecipe } from '../utils/api';\nimport { deleteRecipe } from '../api/recipe';\n\nfunction RecipeDetail() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [recipe, setRecipe] = useState(null);\n\n  useEffect(() => {\n    const fetchRecipe = async () => {\n      try {\n        const data = await getRecipe(id);\n        setRecipe(data);\n      } catch (error) {\n        console.error('Error fetching recipe:', error);\n      }\n    };\n\n    fetchRecipe();\n  }, [id]);\n\n  const handleDelete = async () => {\n    if (!window.confirm('本当にこのレシピを削除しますか？')) return;\n    try {\n      await deleteRecipe(recipe.id);\n      navigate('/');\n    } catch (e) {\n      alert('削除に失敗しました');\n    }\n  };\n\n  if (!recipe) {\n    return <Typography>Loading...</Typography>;\n  }\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 4 }}>\n      <Paper elevation={3} sx={{ p: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          {recipe.title}\n        </Typography>\n        \n        {recipe.image_url && (\n          <Box sx={{ mb: 3 }}>\n            <img\n              src={recipe.image_url}\n              alt={recipe.title}\n              style={{ width: '100%', maxHeight: '400px', objectFit: 'cover' }}\n            />\n          </Box>\n        )}\n\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h6\" gutterBottom>\n              材料\n            </Typography>\n            <List>\n              {recipe.ingredients.map((ingredient) => (\n                <ListItem key={ingredient.id}>\n                  <ListItemText\n                    primary={`${ingredient.name} ${ingredient.amount || '-'}${ingredient.unit || ''}`}\n                    secondary={`カロリー: ${ingredient.calories != null ? ingredient.calories : 'N/A'} kcal`}\n                  />\n                </ListItem>\n              ))}\n            </List>\n          </Grid>\n\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h6\" gutterBottom>\n              調理情報\n            </Typography>\n            <Typography variant=\"body1\" paragraph>\n              調理時間: {recipe.cooking_time}分\n            </Typography>\n            <Typography variant=\"body1\" paragraph>\n              難易度: {recipe.difficulty}\n            </Typography>\n            <Typography variant=\"body1\" paragraph>\n              分量: {recipe.servings}人分\n            </Typography>\n          </Grid>\n\n          <Grid item xs={12}>\n            <Typography variant=\"h6\" gutterBottom>\n              作り方\n            </Typography>\n            <Typography variant=\"body1\" paragraph>\n              {recipe.instructions}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Box sx={{ mt: 4, display: 'flex', gap: 2 }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => navigate('/')}\n          >\n            一覧に戻る\n          </Button>\n\n          <Button color=\"error\" variant=\"contained\" onClick={handleDelete}>\n            削除\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default RecipeDetail; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}